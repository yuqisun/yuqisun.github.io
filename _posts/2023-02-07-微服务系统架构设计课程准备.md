# 微服务系统架构设计课程准备


## 机器配置
* Windows 操作系统
* CPU: 2.9G 6核心
* 内存: >=16G


## 软件安装
* ### [java11](https://www.oracle.com/java/technologies/downloads/#java11-windows)
#### JDK 11 Release Notes
https://www.oracle.com/java/technologies/javase/11u-relnotes.html

#### 下载
[JDK 11.0.18](https://www.oracle.com/java/technologies/downloads/#java11-windows)
![jdk下载](https://raw.githubusercontent.com/yuqisun/yuqisun.github.io/master/_posts/images/jdk11_download.png)

#### 安装
![](https://raw.githubusercontent.com/yuqisun/yuqisun.github.io/master/_posts/images/jdk11_install_step1.png)  
![](https://raw.githubusercontent.com/yuqisun/yuqisun.github.io/master/_posts/images/jdk11_install_step2.png)  
![](https://raw.githubusercontent.com/yuqisun/yuqisun.github.io/master/_posts/images/jdk11_install_step3.png)


* ### [IntelliJ IDEA](https://www.jetbrains.com/idea/download/?ij80pr#section=windows) 和 Datbase Navigator 插件
#### 下载
[Community Edition](https://raw.githubusercontent.com/yuqisun/yuqisun.github.io/master/_posts/images/idea_download.png)  
![](https://raw.githubusercontent.com/yuqisun/yuqisun.github.io/master/_posts/images/idea_download.png)

#### 安装
![](https://raw.githubusercontent.com/yuqisun/yuqisun.github.io/master/_posts/images/idea_install.png)

#### 安装 Datbase Navigator 插件
File -> Settings -> Plugins
![](https://raw.githubusercontent.com/yuqisun/yuqisun.github.io/master/_posts/images/Database_Navigator.png)


* ### [Maven](https://maven.apache.org/download.cgi)
#### 下载后解压缩
[Apache Maven 3.9.0](https://maven.apache.org/download.cgi)  
![](https://raw.githubusercontent.com/yuqisun/yuqisun.github.io/master/_posts/images/maven_download.png)

#### 添加环境变量
This PC -> Properties -> Advanced System Settings -> Environment Variables... -> New System Variables  
![](https://raw.githubusercontent.com/yuqisun/yuqisun.github.io/master/_posts/images/maven_home.png)  
![](https://raw.githubusercontent.com/yuqisun/yuqisun.github.io/master/_posts/images/maven_home_path.png)

#### 添加 settings 文件
创建文件：[settings.xml](https://raw.githubusercontent.com/yuqisun/yuqisun.github.io/master/_posts/files/settings.xml)  
路径：~/.m2


* ### [Git](https://git-scm.com/downloads)
#### 下载
[Download for Windows](https://git-scm.com/download/win)
![](https://raw.githubusercontent.com/yuqisun/yuqisun.github.io/master/_posts/images/git_download.png)

#### 安装
![](https://raw.githubusercontent.com/yuqisun/yuqisun.github.io/master/_posts/images/git_install.png)

#### 配置到 Gitee
* ##### 创建密钥
1. 打开 Git Bash
2. cd ~/.ssh 进入 .ssh 文件夹
3. `ssh-keygen -t ed25519 -C "your_email@example.com" -f "id_rsa_gitee"`
    > 如果系统不支持Ed25519算法，使用 `ssh-keygen -t rsa -b 4096 -C "your_email@example.com" -f "id_rsa_gitee"`
4. `ssh-add ~/.ssh/id_rsa_gitee`
    > 如果报错 Could not open a connection to your authentication agent， 先执行 `ssh-agent bash`
5. 在 ~/.ssh 目录下新建config文件
   ```
    # gitee
    Host gitee.com
    HostName gitee.com
    PreferredAuthentications publickey
    IdentityFile ~/.ssh/id_rsa_gitee
   ```
* ##### 将 SSH密钥添加到 Gitee
1. 在 git bash 执行 cat ~/.ssh/id_rsa_gitee.pub，复制密钥内容
2. 登录Gitee网页，头像 -> 设置 -> SSH 公钥
3. 复制的公钥内容粘贴到 “公钥”
4. 测试 `ssh -T git@gitee.com`

* ### [Docker](https://www.docker.com/) 和 [WSL](https://learn.microsoft.com/en-us/windows/wsl/install-manual#step-4---download-the-linux-kernel-update-package)
#### 下载
[Docker](https://www.docker.com/)
![](https://raw.githubusercontent.com/yuqisun/yuqisun.github.io/master/_posts/images/docker_download.png)

#### 安装
![](https://raw.githubusercontent.com/yuqisun/yuqisun.github.io/master/_posts/images/docker_install.png)
#### Windows启动报错
![](https://raw.githubusercontent.com/yuqisun/yuqisun.github.io/master/_posts/images/docker_isntall_wsl_exception.png)
#### 安装 WSL
[Download the Linux kernel update package](https://learn.microsoft.com/en-us/windows/wsl/install-manual#step-4---download-the-linux-kernel-update-package)


* ### 在 Docker中启动 Mysql
1. 进入 Linux控制台
2. `docker pull mysql:latest`
3. `docker run -itd --name mysql-test -p 3306:3306 -e MYSQL_ROOT_PASSWORD=123456 mysql`


* ### 在 Docker中启动 Kafka
1. 进入 Linux控制台
2. 创建 [docker-compose.yml](https://raw.githubusercontent.com/yuqisun/yuqisun.github.io/master/_posts/files/docker-compose.yml)
3. `docker-compose up -d`
4. 创建主题
```shell
docker exec broker \
kafka-topics --bootstrap-server broker:9092 \
             --create \
             --topic quickstart
```

